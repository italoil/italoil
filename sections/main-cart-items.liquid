<div class="page-header">
  <div class="container">
    <h1>{{ 'cart.general.title' | t }}</h1>
  </div>
</div>

<section class="section">
  <div class="container">
    <form action="{{ routes.cart_url }}" method="post" id="cart-form">
      {%- if cart.item_count > 0 -%}
        <div style="max-width: 1000px; margin: 0 auto;">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="border-bottom: 2px solid var(--color-primary);">
                <th style="text-align: left; padding: 1.5rem; font-weight: 600;">Product</th>
                <th style="text-align: center; padding: 1.5rem; font-weight: 600;">Price</th>
                <th style="text-align: center; padding: 1.5rem; font-weight: 600;">Quantity</th>
                <th style="text-align: right; padding: 1.5rem; font-weight: 600;">Total</th>
                <th style="width: 50px;"></th>
              </tr>
            </thead>
            <tbody>
              {%- for item in cart.items -%}
                <tr style="border-bottom: 1px solid #ddd;">
                  <td style="padding: 2rem 1.5rem;">
                    <div style="display: flex; gap: 1.5rem; align-items: center;">
                      {%- if item.image -%}
                        <img 
                          src="{{ item.image | image_url: width: 100 }}" 
                          alt="{{ item.image.alt | escape }}"
                          style="width: 80px; height: 80px; object-fit: cover;"
                        >
                      {%- endif -%}
                      <div>
                        <a href="{{ item.url }}" style="font-weight: 600; color: var(--color-primary);">
                          {{ item.product.title }}
                        </a>
                        {%- unless item.variant.title == 'Default Title' -%}
                          <p style="font-size: 1.4rem; margin-top: 0.5rem; color: #666;">
                            {{ item.variant.title }}
                          </p>
                        {%- endunless -%}
                      </div>
                    </div>
                  </td>
                  <td style="text-align: center; padding: 1.5rem;">
                    {{ item.price | money }}
                  </td>
                  <td style="text-align: center; padding: 1.5rem;">
                    <input 
                      type="number" 
                      name="updates[]" 
                      id="updates_{{ item.key }}"
                      value="{{ item.quantity }}" 
                      min="0"
                      data-index="{{ forloop.index }}"
                      style="width: 80px; text-align: center; padding: 0.8rem; border: 1px solid #ddd;"
                    >
                  </td>
                  <td style="text-align: right; padding: 1.5rem; font-weight: 600;">
                    {{ item.line_price | money }}
                  </td>
                  <td style="text-align: center; padding: 1.5rem;">
                    <a 
                      href="{{ routes.cart_change_url }}?line={{ forloop.index }}&quantity=0" 
                      style="color: #999; text-decoration: none; font-size: 2rem;"
                      aria-label="Remove {{ item.product.title }}"
                    >
                      Ã—
                    </a>
                  </td>
                </tr>
              {%- endfor -%}
            </tbody>
          </table>

          <div style="margin-top: 3rem; text-align: right;">
            <button type="submit" name="update" class="button button--secondary">
              {{ 'cart.general.update' | t }}
            </button>
          </div>
        </div>
      {%- else -%}
        <div style="text-align: center; padding: 6rem 2rem;">
          <h2>{{ 'cart.general.empty' | t }}</h2>
          <p style="margin: 2rem 0;">
            <a href="{{ routes.all_products_collection_url }}" class="button">
              {{ 'cart.general.continue_shopping' | t }}
            </a>
          </p>
        </div>
      {%- endif -%}
    </form>
  </div>
</section>

{% schema %}
{
  "name": "Cart Items",
  "tag": "section"
}
{% endschema %}
