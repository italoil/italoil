{%- comment -%}
  SEO and Meta Tags
{%- endcomment -%}

<meta property="og:site_name" content="{{ shop.name }}">
<meta property="og:url" content="{{ canonical_url }}">
<meta property="og:title" content="{{ page_title | escape }}">
<meta property="og:type" content="website">
<meta property="og:description" content="{{ page_description | escape }}">

{%- if page_image -%}
  <meta property="og:image" content="http:{{ page_image | image_url: width: 1200 }}">
  <meta property="og:image:secure_url" content="https:{{ page_image | image_url: width: 1200 }}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
{%- endif -%}

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page_title | escape }}">
<meta name="twitter:description" content="{{ page_description | escape }}">

{%- comment -%} Schema.org structured data {%- endcomment -%}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": {{ shop.name | json }},
  "url": {{ request.origin | append: routes.root_url | json }},
  {%- if settings.social_facebook -%}
    "sameAs": [
      {{ settings.social_facebook | json }}
      {%- if settings.social_instagram -%},{{ settings.social_instagram | json }}{%- endif -%}
      {%- if settings.social_pinterest -%},{{ settings.social_pinterest | json }}{%- endif -%}
    ],
  {%- endif -%}
  "logo": {
    "@type": "ImageObject",
    "url": {{ shop.name | image_url: width: 200 | json }}
  }
}
</script>

{%- if template.name == 'product' -%}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Product",
  "name": {{ product.title | json }},
  "description": {{ product.description | strip_html | json }},
  "image": {{ product.featured_image | image_url: width: 1024 | json }},
  "brand": {
    "@type": "Brand",
    "name": {{ shop.name | json }}
  },
  "offers": {
    "@type": "Offer",
    "priceCurrency": {{ cart.currency.iso_code | json }},
    "price": {{ product.price | divided_by: 100.0 | json }},
    "availability": "{% if product.available %}http://schema.org/InStock{% else %}http://schema.org/OutOfStock{% endif %}",
    "url": {{ request.origin | append: product.url | json }}
  }
}
</script>
{%- endif -%}
